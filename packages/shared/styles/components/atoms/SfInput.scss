$input-c-accent: var(--input-c-accent, var(--c-primary));
$input-c-default: var(--input-c-default, var(--c-light));
$input-c-text: var(--input-c-text, var(--c-text));

$input-padding: 15px 0 10px 0;
$input-margin: 0 0 var(--spacer-small) 0;
$input-border: 1px solid #{$input-c-default};
$input-border-width: 0 0 1px 0;
$input-font-width: 400;
$input-font-size: var(--font-size-big);
$input-line-height: 1.6;
$input-font-family: var(--body-font-family-secondary);
$input-font: var(--input-font-weight, #{$input-font-width})
  var(--input-font-size, #{$input-font-size}) /
  var(--input-line-height, #{$input-line-height})
  var(--input-font-family, #{$input-font-family});
$input-label-transform: translate3d(
  0,
  calc(var(--input-label-top, 50%) * -1),
  0
);
$input-label-transition: top 150ms linear, font-size 150ms linear;
$input-password-icon-width: var(--input-password-icon-width, 22px);

.sf-input {
  position: relative;
  box-sizing: border-box;
  width: var(--input-width);
  height: var(--input-height);
  color: var(--input-color, #{$input-c-text});
  font: var(--input-font, #{$input-font});
  &__label {
    position: absolute;
    top: var(--input-label-top, 50%);
    color: var(--input-label-color, inherit);
    font-size: var(--input-label-font-size, inherit);
    transform: var(--input-label-transform, #{$input-label-transform});
    transition: var(--input-label-transition, #{$input-label-transition});
    &::after {
      content: var(--input-label-required);
      color: var(--input-label-color, #{$input-c-accent});
    }
  }
  &__bar {
    position: relative;
    display: block;
    &::before,
    &::after {
      position: absolute;
      bottom: 0;
      width: var(--input-bar-width, 0);
      height: 1px;
      background: var(--input-bar-background, #{$input-c-accent});
      transition: width 150ms linear;
      content: "";
    }
    &::before {
      left: 50%;
    }
    &::after {
      right: 50%;
    }
  }
  &__password-button {
    --button-c-accent: transparent;
    --button-c-hover: transparent;
    --button-padding: 0;
    position: absolute;
    top: 50%;
    right: var(--spacer-big);
    transform: translate3d(0, -50%, 0);
  }
  &__password-icon {
    --icon-width: #{input-password-icon-width};
    --icon-height: 13px;
    --icon-color: var(--c-dark-variant);
    position: relative;
    &--hidden {
      --icon-color: var(--c-gray-variant);
      --input-password-icon-scaleX: 1;
    }
    &::after {
      position: absolute;
      top: 50%;
      width: 100%;
      height: 1px;
      background: var(--c-gray-variant);
      transform: translate3d(0, -50%, 0) rotate(45deg)
        scaleX(var(--input-password-icon-scaleX, 0));
      transition: transform 150ms linear;
      content: "";
    }
  }
  &__error-message {
    color: var(--input-error-message-color, var(--c-danger));
    font-size: var(--input-error-message-font-size, var(--font-size-small));
  }
  &__wrapper,
  input {
    width: 100%;
    height: 100%;
  }
  &__wrapper {
    position: relative;
    margin: var(--input-margin, #{$input-margin});
  }
  input {
    display: block;
    box-sizing: border-box;
    padding: var(--input-padding, #{$input-padding});
    border: var(--input-border, #{$input-border});
    border-width: var(--input-border-width, #{$input-border-width});
    background: var(--input-background);
    color: inherit;
    font: inherit;
    outline: 0;
    &:focus {
      & ~ * {
        --input-label-top: 0;
        --input-label-color: #{$input-c-accent};
        --input-label-font-size: var(--font-size-extra-small);
        --input-bar-width: 50%;
      }
    }
    &:required {
      & ~ * {
        --input-label-required: " *";
      }
    }
    &:disabled {
      & ~ * {
        --input-color: var(--c-text-muted);
        --input-label-color: var(--c-text-muted);
      }
    }
    &[type="number"] {
      &::-webkit-inner-spin-button,
      &::-webkit-outer-spin-button {
        -webkit-appearance: none;
        margin: 0;
      }
    }
    &[type="password"] {
      --input-padding: 15px
        calc(var(--spacer-big) * 2 + #{$input-password-icon-width}) 10px 0;
    }
  }
  &--has-text {
    --input-label-top: 0;
    --input-label-font-size: var(--font-size-extra-small);
  }
}
