@import "../../variables/scss/functions";

$image-c-overlay: css(image, c-overlay, rgba(29, 31, 34, 0.8));
$image-c-text: css(image, c-text, var(--c-white));

$image-font: font(
  heading-title,
  300,
  var(--font-size-small),
  1.6,
  var(--body-font-family-secondary)
);

.sf-image {
  position: relative;
  overflow: css(image, overflow, hidden);
  width: css(image, width, 100%);
  max-width: calc(#{css(image, max-width)} * 1px);
  font: var(--image-font, #{$image-font});
  &::before {
    display: block;
    padding-top: calc(#{css(image, height)} / #{css(image, max-width)} * 100%);
    content: var(--image-content, "");
  }
  img {
    position: css(img, position, absolute);
    top: 50%;
    left: 0;
    display: block;
    width: css(img, width, 100%);
    max-width: 100%;
    height: 100%;
    transform: css(img, transform, translate3d(0, -50%, 0));
  }
  &__overlay {
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    display: flex;
    justify-content: center;
    align-items: center;
    padding: css(image-overlay, padding, var(--spacer-big));
    background: css(image-overlay, background, $image-c-overlay);
    color: css(image-overlay, color, $image-c-text);
  }
  &--no-size {
    --image-overflow: unset;
    --image-width: auto;
    --image-max-width: unset;
    --img-width: auto;
    --img-position: static;
    --img-transform: translate3d(0, 0, 0);
    &::before {
      --image-content: unset;
    }
  }
}
