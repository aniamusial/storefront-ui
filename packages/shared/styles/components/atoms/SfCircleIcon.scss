@import "../../variables/scss/functions";

$circle-icon-c-accent: css(circle-icon, c-accent, var(--c-primary));
$circle-icon-c-hover: css(circle-icon, c-hover, var(--c-primary-lighten));
$circle-icon-c-shadow: css(circle-icon, c-shadow, var(--c-primary-base));

$circle-icon-padding: css(circle-icon, padding, var(--spacer-big));
$circle-icon-background: css(circle-icon, background, $circle-icon-c-accent);
$circle-icon-border-radius: css(circle-icon, border-radius, 100%);
$circle-icon-transition: css(circle-icon, transition, box-shadow 300ms ease);
$circle-icon-badge-size: css(circle-icon, badge-size, 1.1rem);
$circle-icon-badge-font: font(
  circle-icon-bage,
  300,
  var(--font-size-small),
  1.6,
  var(--body-font-family-secondary)
);

.sf-circle-icon {
  --button-padding: #{$circle-icon-padding};
  --button-border-radius: #{$circle-icon-border-radius};
  --button-background: #{$circle-icon-c-accent};
  position: relative;
  box-shadow: css(circle-icon, box-shadow);
  transition: $circle-icon-transition;
  &:hover {
    --button-background: #{$circle-icon-c-hover};
    --circle-icon-box-shadow: 0 0 0 0.3124rem
      rgba(#{$circle-icon-c-shadow}, 0.4);
  }
  &:active {
    --circle-icon-box-shadow: 0 0 0 0.625rem rgba(#{$circle-icon-c-shadow}, 0.4);
  }
  &__badge {
    position: absolute;
    top: css(circle-icon, badge-top, 0);
    right: css(circle-icon, badge-right, 0);
    box-sizing: border-box;
    min-width: css(circle-icon-badge, width, $circle-icon-badge-size);
    min-height: css(circle-icon-badge, height, $circle-icon-badge-size);
    padding: css(circle-icon-badge, padding, 0 3px);
    border-radius: css(circle-icon-badge, border-radius, 10px);
    background: css(circle-icon-badge, background, var(--c-danger));
    font: css(circle-icon-badge, font, $circle-icon-badge-font);
    &-enter-active {
      animation: bounce-in 300ms;
    }
    &-leave-active {
      animation: bounce-in 300ms reverse;
    }
  }
  $colors-map: ("primary", "secondary", "warning", "danger", "info", "success");
  @each $color in $colors-map {
    &.color-#{$color} {
      --circle-icon-c-accent: var(--c-#{$color});
      --circle-icon-c-hover: var(--c-#{$color}-lighten);
      --circle-icon-c-shadow: var(--c-#{$color}-base);
    }
  }
}
@keyframes bounce-in {
  0% {
    transform: scale(0);
  }
  50% {
    transform: scale(1.2);
  }
  100% {
    transform: scale(1);
  }
}
